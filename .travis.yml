language: java
jdk:
  - oraclejdk8
env:
  global:
    - secure: "xLz1mm2wYOYgjvPkrf1QCE0lFQXBfg/UGjQnJlMdR8g/Px2qkY2oJmvOg3n4+GwogVMLHHEKpoEMdAUQsUdBEpH0ThY6H5Zrch+wGF/2neQKi4qA8a4FGW9IFod3C/yHmFrRbP4E5d82GiyfpBJS7pCV23k99T7K7L+0mTp9+MbdujbooMTh38A8YNB++1dgFKwTbY9sBAlIH4h9N3eyi9pUzxVgDvIuNxboB/WT/D8DOwiTgkDi6EyvowRn6r6q9lQEfGMRUUuIadX6ecmVw86Pm5k3kYkGREduBUNE5b7q8d6Rr2beP4GxgNHl3hM6yeQNJP3AXrTpae1Pp48gzzO+4MTe5XtVKvyuKeD4UM4XVZ9JOnbf1Q4erWPZhgGADsJrlrdvTITaD0EHCXATjpo5M0A7fAvUchuli1tIQvrsmH2ZqXvi3CqwhPOKEvXKV+5kpmLbpxPQ2CragtbBnGSIvtw0esoCg8Y7OKr1rnP/rFceGhwC0KDWCnRY9SRb8fpSyDmFMVfKht9XQt3y3QWZ1f0BHOJtE6PlM3ypc0bHJvQcY7v29Ie2HfmqgsWfExk31PedFSqzEGzwbaTtYH68KJcdX7Pwfgpx9zpTQRcNqbswCLzxnSaUgSHzMUohmYm7xqTfeHrkkr3p9RWKRVxHPJgKsmw2cYQpl4F8TuM="
    - # ^^ OSSRH_JIRA_USERNAME
    - secure: "XYlmR58CQrCCjznNwSYCvgSVe41VcE0TWFgp4CwVRwPirnKcOJhWSwSChf6+Utq4VuXOTm+qJ/5rEzMvc+YDsORJdP08nBFGAakeYRwcPLcU7t8S6Vv8giKu8k9+2uvkFq3PLCBsULfTYLSXMctiQInNKgDbiLJnAZeeZFcOAbImdl/s/tA2WJ9Zqv2o8jQfyi6tddFhEc+lpj7Ft7zurR72tjK5qKk06u5fU5jTIxXTdLG/7UtZdIu6WWwYoUlTL5EgDhUo0URZhN7C6szgJrGoFCV0FvLmNjdQs6gcRbz3Xk3iqmfDV5mpKOM25myEdItiw6FwyFAsuVrYFSBKkkufkoed9YAoANEgTnqaqva3TipKJxwTeBqZCaqQCD1jfi6aquGUcVxyqbEDPrRkA7HB3u3FcCTco4D4WT1Wcptx0nK1mi5XVYPiwtt//QT6WJ1/DFWtGvKwg/uWj7lIRGbKDkEkAWnbNOG026FctSk384uurXBlYJo+5oF2OxcKlekRdP5ps7bQw7DOlHbDeGL0yOGTDDPLU/pLebRhVIxsgwrB97VuEjd2J4a/0ERqPO/fQXCZZ652ADROR2JnktTStKFWYjIBrwNdeDqY5iZbQ5syJ7wL/K7lLoSk3LlVknQCslSWRsexJzrz/DSGT4oi0f/9i8sGFsCLmTZ22z8="
    - # ^^ OSSRH_JIRA_PASSWORD
    - secure: "B8EFmkPzSTFfnmPB50N6fq8K14HRnM6YJerKMClJlMmdGRmimjSjEMEaz77YNITmQjo4U3DFBY4iVkP2unS91UpjbeLHjSMW1LwCfmVS1ufE+uq0UwEgkSnqLIQux/4o1tth7jGBwWNCWBacAyovY7f2bFpxM2/m0nfOuDD9PCU3/wdrIUt1WjxFdpbx9K1gsHYI4vB0AhPJnTN5o8Rv6KkusKoirGGntd4cbFXFvJ87P1siIgtH9QGRSrNFIp39MCpW4Rb2rQR6Coe0czopmV9PIvtCLRMo9u0Jvn3GUeu3eaY35wdq0yOmNjr5xR0h21KISRvzgYsFKlIuLNf+Hlt1q59uWAq+pn4Rzb2lDONln5zMwpHuDrwIxILVwlSEMsvnvgM7BqFpUT5UiD2ZBpFoFRkwPtoSTJFzQGQ+aSNLdi2vSIMH8Zm3t7xfaJod3wUbl273eqmWfRQs0X2wR7BVYgpqA3tSDvlpcKzybdEVZ3nVTWMxlaq6+DiFirrrtOfl3+nYacz2JurdMWWWcDA63zTKP4iZJ4LD32a8wy6omKLvfqbOEfqeDMEQ5l8VARA5i5PHf2XkPijq6Os3Y+emPmkT853wdVebRyrFDzXudairWE7VvbnuNh21idnkk/eIzRIZETbGmIzWCDZvgpE9aGlRhbNqgTGdhZ8dAus="
    - # ^^ SIGNING_KEY_NAME
    - secure: "T0qQpDHkb7TP9cfLgOpI8+TzTy4TB5UesErR2MnC8v06D3R24g49GBfFYhKTy+qlNTvbnvttMkR5+meIM6dYmUS++uXBJ0pN9qfSdQpfbQgLP/os36/qk1C1CCbaXqAAWDSRYhGJMhTzal9DXP6Arwh0co+HeyULWlfB+h6YH7HPp9jLZ5snZbNmPHps12LF1ePrF+GQILTmmzLeIJBUj6TTBFabM6cj7r+T3Fo96KZeMzX8UmYR9/0SNrBKzDATmat/qr/ljrbDD3na4SDlPkOmBu/OEpBqkulXNICBccj9diOn4ImxTno38NIG38lfl99NXEwnBkAT/vzaM3IOB9yU1XLZ/O8f+KBTBWiDKiqT8RzSlKvQfhTck8fwIq0Ps1GX9fAnpJ0qjktL2m8+kZcQjQUc7rjuudsR0ES+1pHmCTn7BdyDTPT721YUtqmJWC5rEU6Y6K65LNoSjVD3260kaiB1JLhlA6fdbUCTr+brsP8oDoi/ApRdR432f5L7WnMXwpScMO6tPgG1OxU9SHqahI8lHBqdOI8FfIuffrbVIxeiyJXrqSJ3AcjwqoNuPwW67J1j5rktOFFGIKlsYi2Jt7OSJm5yiWOjymMyIq14haTPbPwyId+aiA2WEHkeMYbPjU7rTV8p1YJpiFMtBgeAcezDx7fMKJ+nB6nUT18="
    - # ^^ SIGNING_KEY_PASS

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

after_success:
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh